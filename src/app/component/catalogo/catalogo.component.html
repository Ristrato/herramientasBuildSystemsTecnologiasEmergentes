
<!-- carrito de compras -->
<div class="icono-carrito" (click)="toggleDiv()">
  <i class="material-icons">add_shopping_cart</i>
  <div class="num-productos" *ngIf="seHizoCompra">
    <span>{{ numProductos }}</span>
  </div>
</div>


<div *ngIf="mostrarDiv" [ngClass]="{'mostrar': mostrarDiv, 'contenido-detrás': mostrarDiv}">
  <div class="container">
    <h4>Carrito de compras</h4>
    <ul class="collection">
      <li class="collection-item" *ngFor="let item of carrito">
        <div class="row">
          <div class="col s3">
            <img class="item-imagen" [src]="item.imagen" alt="{{ item.nombre }}">
          </div>
          <div class="col s3">
            {{ item.nombre }}
          </div>
          <div class="col s3">
            {{ item.cantidad }} x {{ item.precio | currency: 'Q ' }}
          </div>
          <div class="col s3">
            {{ item.total | currency: 'Q ' }}
          </div>
        </div>
      </li>
    </ul>
    <button class="btn green" (click)="vaciarCarrito()">Comprar</button>
    <button class="btn yellow" (click)="toggleDiv()">Volver a comprar</button>
  </div>
</div>


<div class="encabezado">
  <div class="row">
    <div class="col s8">
      <h3>Catálogo de Productos</h3>
    </div>

    <div class="col s4 offset-s9 busqueda-wrapper">
    <label for="busqueda">¿Qué estás buscando?</label>
    <input type="text" id="busqueda" [(ngModel)]="busqueda" (keyup)="buscar()">
  </div>
  </div>
  </div>

<div class="grid-container ">
  <div class="catalogo-item" *ngFor="let item of catalogoItems">
    <img [src]="item.imagen" alt="{{ item.nombre }}"  [ngClass]="{'img_aguacate' : item.nombre === 'Aguacate', 'img_brocoli' : item.nombre === 'Brocoli' }">
    <h3>{{ item.nombre }}</h3>
    <p>Precio: {{ item.precio | currency: 'Q ' }}</p>
    <p class="cantidad">Unidades disponibles: {{ item.cantidad }}</p>
    <div>
      <button class="waves-effect waves-light btn" (click)="verMas(item)">Ver más</button>
    </div>
  </div>
</div>


<div class="catalogo-item seleccionado" *ngIf="itemSeleccionado">
  <img [src]="itemSeleccionado.imagen" alt="{{ itemSeleccionado.nombre }}" (click)="cerrarDetalle()">
  <h4>{{ itemSeleccionado.nombre }}</h4>
  <p>Precio: {{ itemSeleccionado.precio | currency: 'Q '}}</p>
  <label for="cantidad">Cantidad</label>
  <input name="cantidad" type="number" [(ngModel)]="cantidadSeleccionada">
  <p>Total: {{ cantidadSeleccionada * itemSeleccionado.precio | currency: 'Q ' }}</p>
    <button (click)="comprar()"  class="waves-effect waves-light btn">Añadir</button>
</div>
